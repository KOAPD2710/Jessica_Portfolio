---
import Layout from '@/layouts/Layout.astro';
import { getAllByType } from '@/js/core/prismic';

export const prerender = true;
export async function getStaticPaths() {
  const allProjects= await getAllByType("project");
  return allProjects.map((item) => {
    return {
      params: { project: item.uid },
      props: {item}
    } 
  });
}

const { project } = Astro.params;
const { item } = Astro.props;

import ProjectDetailHero from '@module/ProjectDetail/ProjectDetailHero/ProjectDetailHero.astro';
import ProjectDetailBody from '@module/ProjectDetail/ProjectDetailBody/ProjectDetailBody.astro';
---
<Layout title={`Project ${item.data.name[0].text}`}>
  <ProjectDetailHero data={item}/>
  <ProjectDetailBody/>
</Layout>
